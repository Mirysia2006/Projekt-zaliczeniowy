\documentclass[a4paper, 12pt]{article}

% --- PAKIETY ---
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[polish]{babel}
\usepackage{geometry}
\usepackage{xcolor}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage{beramono}
\usepackage{tabularx}

% --- NOWE PAKIETY DO OKIENEK TERMINALA ---
\usepackage{listings}
\usepackage{listingsutf8} % Dodano dla lepszej obsługi UTF-8 w listings
\usepackage[most]{tcolorbox}
\tcbuselibrary{listings,breakable}

% --- USTAWIENIA STRONY ---
\geometry{a4paper, left=2.5cm, right=2.5cm, top=2.5cm, bottom=2.5cm}
\definecolor{titlebg}{HTML}{4A90E2}

% --- USTAWIENIA HYPERLINKÓW ---
\hypersetup{
    colorlinks=true,
    linkcolor=titlebg,
    urlcolor=titlebg,
    citecolor=titlebg,
}

% --- NAGŁÓWEK I STOPKA ---
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{Wprowadzenie do pracy w systemie Linux}
\fancyfoot[C]{\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}
\setlength{\headheight}{15pt}

% --- STYLE DLA RAMEK TCOLORBOX ---
\newtcolorbox{definitionbox}[1]{
    colback=black!5, colframe=titlebg, fonttitle=\bfseries, coltitle=white,
    colbacktitle=titlebg, title=#1, boxrule=1pt, arc=4mm,
    bottomrule=0.5pt, toprule=0.5pt, breakable
}

\newtcolorbox{importantbox}[1]{
    colback=yellow!10, colframe=orange!80!black, fonttitle=\bfseries,
    title=#1, boxrule=1pt, arc=2mm, breakable
}

% --- POPRAWIONE ŚRODOWISKO "TERMINAL" ---
\newtcblisting{terminal}{
    listing only, 
    listing engine=listings,
    listing options={
        language=bash,
        basicstyle=\footnotesize\ttfamily,
        breaklines=true,
        columns=fullflexible,
        showstringspaces=false,
        extendedchars=true,
        inputencoding=utf8
    },
    colback=black!70, 
    colframe=black!50,
    colupper=white,
    breakable,
    arc=3mm,
    boxrule=1pt,
    left=5mm, top=3mm, bottom=3mm,
    title={\hspace{-3mm}
        \tcbox[on line, size=small, boxrule=0pt, colback=red!80!black, arc=3mm]{} \hspace{1mm}
        \tcbox[on line, size=small, boxrule=0pt, colback=yellow!80!black, arc=3mm]{} \hspace{1mm}
        \tcbox[on line, size=small, boxrule=0pt, colback=green!70!black, arc=3mm]{}
        \hspace{4mm} \bfseries\small Terminal -- Bash
    },
}

% --- KONFIGURACJA LISTINGS DLA UTF-8 ---
\lstset{
    inputencoding=utf8,
    extendedchars=true,
    literate={ą}{{\k{a}}}1 {ć}{{\'c}}1 {ę}{{\k{e}}}1 {ł}{{\l{}}}1 {ń}{{\'n}}1 {ó}{{\'o}}1 {ś}{{\'s}}1 {ź}{{\'z}}1 {ż}{{\.z}}1 {Ą}{{\k{A}}}1 {Ć}{{\'C}}1 {Ę}{{\k{E}}}1 {Ł}{{\L{}}}1 {Ń}{{\'N}}1 {Ó}{{\'O}}1 {Ś}{{\'S}}1 {Ź}{{\'Z}}1 {Ż}{{\.Z}}1
}

% --- STRONA TYTUŁOWA ---
\title{\bfseries Wprowadzenie do pracy w środowisku Linux \\ \large Skrypt dla studentów}
\author{Opracowanie zbiorcze}
\date{\today}

% --- POCZĄTEK DOKUMENTU ---
\begin{document}

\maketitle
\thispagestyle{empty}
\newpage

\tableofcontents
\newpage

% --- CZĘŚCI SKRYPTU ---
\input{parts/lab3.tex}
\newpage
\input{parts/lab4.tex}
\newpage
\input{parts/lab5.tex}
\newpage
\input{parts/lab6.tex}

\end{document}
